<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" href="LoginPage.css">
<title>BattleShips</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script>
	
	function Login(){
		$.ajax({
	      url: "Login",
	     data: {
	       username: document.from1.username.value,
	       password: document.form1.password.value,
	     },
	     success: function( reply ) {
	    	 
	    	 if($.trim(reply)==="exists"){
	    		 sessionStorage.setItem("user",document.LoginForm.username.value)
	    		 window.location.href ='BattlePage.html';
	    	 }
	    	 
	    	 else{
	    		 document.getElementById("username").value='';
	    		 document.getElementById("password").value='';
			 //show some error message
	    	 }
	    	 
	    	 
	    	 
	     }
	});
		
		
	}
	
	
	function signUp(){
		$.ajax({
	      url: "SignUp",
	     data: {
	       username: document.from2.username.value,
	       password: document.form2.password.value,
	     },
	     success: function( reply ) {
	    	 
	    	 if($.trim(reply)==="success"){
	    		 sessionStorage.setItem("user",document.LoginForm.username.value)
	    		 window.location.href ='BattlePage.html';
	    	 }
	    	 
	    	 else{
	    		 document.getElementById("username").value='';
	    		 document.getElementById("password").value='';
			 //show some error message
	    	 }
	    	 
	    	 
	    	 
	     }
	});
		
		
	}
	
	
	
</script>
</head>
<body>
<div id="Header">BATTLESHIPS</div>
<form name="form1" method="GET" action="">
		<fieldset>
          <label for ="username">Username</label>
          <input type="text" id="username" name="username" value="" required/><br>
          <label for ="password">Password</label>
          <input type="password" id="password" name="password" value="" required/><br>
          <input type="button" class="button" name="log" value="Login" onclick="Login();"/>         
        </fieldset>
</form>
<form name="form2" method="GET" action="">
		<fieldset>
          <label for ="username">Username</label>
          <input type="text" id="username" name="username" required/><br>
          <label for ="password">Password</label>
          <input type="password" id="password" name="password" required/><br>
          <label for ="passwordconfirm">Re-enter Password</label>
          <input type="password" id="passwordconfirm" name="passwordconfirm" required/><br>
          <input type="button" class="button" name="sign" value="Sign Up" onclick="signUp();"/>         
        </fieldset>
</form>

</body>
</html>
